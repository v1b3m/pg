+ ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 dbshell.test_postgresql
test_accent (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase) ... ok
test_basic (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase) ... ok
test_column (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase) ... ok
test_nopass (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase) ... ERROR
test_sigint_handler (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)
SIGINT is ignored in Python and passed to psql to abort quries. ... ok

======================================================================
ERROR: test_nopass (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/dbshell/test_postgresql.py", line 47, in test_nopass
    'port': '444',
  File "/testbed/tests/dbshell/test_postgresql.py", line 24, in _run_it
    DatabaseClient.runshell_db(dbinfo)
  File "/testbed/django/db/backends/postgresql/client.py", line 48, in runshell_db
    subprocess.run(args, check=True, env=env)
  File "/testbed/tests/dbshell/test_postgresql.py", line 21, in _mock_subprocess_run
    self.pgpassword = env.get('PGPASSWORD')
AttributeError: 'NoneType' object has no attribute 'get'

----------------------------------------------------------------------
Ran 5 tests in 0.001s

FAILED (errors=1)
Testing against Django installed in '/testbed/django'
Importing application dbshell
Skipping setup of unused database(s): default, other.
System check identified no issues (0 silenced).
+ git checkout ddb293685235fd09e932805771ae97f72e817181 tests/dbshell/test_postgresql.py
Updated 1 path from ada9f96a71

